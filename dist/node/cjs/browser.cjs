var{defineProperty:w,getOwnPropertyNames:P,getOwnPropertyDescriptor:d}=Object,x=Object.prototype.hasOwnProperty;var y=new WeakMap,F=(n)=>{var e=y.get(n),c;if(e)return e;if(e=w({},"__esModule",{value:!0}),n&&typeof n==="object"||typeof n==="function")P(n).map((s)=>!x.call(e,s)&&w(e,s,{get:()=>n[s],enumerable:!(c=d(n,s))||c.enumerable}));return y.set(n,e),e};var I=(n,e)=>{for(var c in e)w(n,c,{get:e[c],enumerable:!0,configurable:!0,set:(s)=>e[c]=()=>s})};var W={};I(W,{createLogFileWriter:()=>Q,createConsoleWriter:()=>A});module.exports=F(W);var u=new Set(["log","info","warn","error"]),i=[["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"],["Saturday","Sat"]],T=(n,e)=>{return(e instanceof Map?[...e]:Object.entries(e)).reduce((s,[o,r])=>s.replaceAll(o,r),n)},f=(n,e,c,s="{{processed_data}}")=>{let o=e.data.map((p)=>c(n,p)).join(`
`),r=new Date(e.timestamp),a=r.toISOString(),[L,m]=a.slice(0,-1).split("T");return T(s,{"{{log_type}}":e.type,"{{processed_data}}":o,"{{timestamp}}":String(Math.floor(e.timestamp)),"{{timestamp_precise}}":String(e.timestamp),"{{iso_date}}":a,"{{date}}":L,"{{time}}":m,"{{JJ}}":i[r.getDay()][0].toUpperCase(),"{{jj}}":i[r.getDay()][0],"{{J}}":i[r.getDay()][1].toUpperCase(),"{{j}}":i[r.getDay()][1],"{{YYYY}}":r.getFullYear().toString(),"{{YY}}":r.getFullYear().toString().slice(-2),"{{MM}}":r.getMonth().toString().padStart(2,"0"),"{{M}}":r.getMonth().toString(),"{{dd}}":r.getDate().toString().padStart(2,"0"),"{{HH}}":r.getHours().toString().padStart(2,"0"),"{{hh}}":(r.getHours()%12).toString().padStart(2,"0"),"{{mm}}":r.getMinutes().toString().padStart(2,"0"),"{{ss}}":r.getSeconds().toString().padStart(2,"0"),"{{H}}":r.getHours().toString(),"{{h}}":(r.getHours()%12).toString(),"{{m}}":r.getMinutes().toString(),"{{s}}":r.getSeconds().toString(),"{{ms++}}":r.getMilliseconds().toString().padStart(3,"0"),"{{ms+}}":r.getMilliseconds().toString().padStart(2,"0"),"{{ms}}":r.getMilliseconds().toString(),"{{PP}}":r.getHours()>=12?"PM":"AM","{{pp}}":r.getHours()>=12?"pm":"am","{{P}}":r.getHours()>=12?"P":"M","{{p}}":r.getHours()>=12?"p":"m"})};var h=(n,e,c)=>{if(typeof c==="string")return c;return JSON.stringify(c,null,n)},A=async(n)=>{let e=n.template??"{{processed_data}}",c=n.formatSpacing??2,s=(o,r)=>h(c,o,r);return n.clearPreviousLogs&&console.clear(),(o,r)=>{if(u.has(r.type))console[r.type](f(o,r,s,e));else console.log(f(o,r,s,e))}},Q=async(n,e)=>{let c=await n.createWritable({keepExistingData:!0}),s=e.template??"{{processed_data}}",o=e.formatSpacing??2,r=[],a=(p,t)=>h(o,p,t);e.clearPreviousLogs&&c.truncate(0);let L=!0,m=async(p)=>{L=!1;while(r.length>0){let t=r.shift();if(!t)continue;await c.write(f(p,t,a,s)+`
`).catch((C)=>{return console.error("An error occurred while writing to the log file.",{logger:p,log:t,error:C}),null})}L=!0};return(p,t)=>{r.push(t),L&&m(p)}};

//# debugId=B6A8217C12983F1264756E2164756E21
//# sourceMappingURL=browser.cjs.map
